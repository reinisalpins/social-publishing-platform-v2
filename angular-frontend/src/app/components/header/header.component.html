<header
  class="border-grid sticky top-0 z-50 w-full border-b border-b-gray-200 bg-[#FBFBFB]/95 backdrop-blur supports-[backdrop-filter]:bg-[#FBFBFB]/60">
  <div class="container mx-auto p-4 flex items-center justify-between">
    <span class="font-semibold">Social publishing platform</span>

    <nav class="hidden md:block">
      <a class="ml-4 hover:underline underline-offset-4 text-sm" routerLink="/">Feed</a>
      @for (category of categoryService.categories(); track category.id) {
        <a class="ml-4 hover:underline underline-offset-4 text-sm" [routerLink]="['/posts', 'categories', category.slug]">{{ category.name }}</a>
      }
    </nav>

    <div class="hidden md:flex gap-2">
      <a class="button-primary text-sm" routerLink="/profile">Profile</a>
      <a class="button-primary text-sm" routerLink="/posts/manage">Manage posts</a>
      <app-button class="button-primary text-sm" [loading]="isLoggingOut()" (click)="logout()">Logout</app-button>
    </div>

    <button (click)="isMenuOpen.set(!isMenuOpen())" class="md:hidden text-gray-700">
      @if (isMenuOpen()) {
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-x-lg"
             viewBox="0 0 16 16">
          <path
            d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
        </svg>
      } @else {
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-list"
             viewBox="0 0 16 16">
          <path fill-rule="evenodd"
                d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
        </svg>
      }
    </button>
  </div>

  @if (isMenuOpen()) {
    <div class="md:hidden container mx-auto px-4 pb-4">
      <nav class="flex flex-col space-y-3">
        <a class="hover:underline underline-offset-4 text-sm" routerLink="/">Feed</a>
        @for (category of categoryService.categories(); track category.id) {
          <a class="hover:underline underline-offset-4 text-sm">{{ category.name }}</a>
        }
      </nav>
      <div class="flex flex-col gap-4 mt-6">
        <div>
          <a class="button-primary text-center text-sm" routerLink="/profile">Profile</a>
        </div>
        <div>
          <a class="button-primary text-center text-sm" routerLink="/posts/manage">Manage posts</a>
        </div>
        <div>
          <app-button class="button-primary text-sm" [loading]="isLoggingOut()" (click)="logout()">Logout</app-button>
        </div>
      </div>
    </div>
  }
</header>
